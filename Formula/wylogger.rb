# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Wylogger < Formula
  desc "A tool for automatically authenticate the network of Wen Yuan Talent Apartment."
  homepage "https://github.com/mafuka/wylogger"
  version "0.1.5"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/mafuka/wylogger/releases/download/0.1.5/wylogger_darwin_amd64.tar.gz"
      sha256 "675e7b15f8ccb182b08f55f107c30f2a00d498f4f2927888397e932054c947de"

      def install
        bin.install "wylogger"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/mafuka/wylogger/releases/download/0.1.5/wylogger_darwin_arm64.tar.gz"
      sha256 "ef7e26fe9e7f8631b6e9ddea69807b2c01e9edfb3f4008d74de8186f7e80ebbc"

      def install
        bin.install "wylogger"
      end
    end
  end

  on_linux do
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/mafuka/wylogger/releases/download/0.1.5/wylogger_linux_arm64.tar.gz"
      sha256 "2229c3fda95f5e7cd5237015b94baa7adb1b4bf966ae2224fc2975f78dd19f78"

      def install
        bin.install "wylogger"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/mafuka/wylogger/releases/download/0.1.5/wylogger_linux_amd64.tar.gz"
      sha256 "ec3732d695aba0be9586cef447c8a0cb411bc371cba40db3c08af0dd46378c88"

      def install
        bin.install "wylogger"
      end
    end
  end

  def post_install
    (etc/"wylogger").mkpath
    unless (etc/"wylogger/config.yml").exist?
      cp prefix/"config.example.yml", etc/"wylogger/config.yml"
    end
    puts "Please customize your configuration file at #{etc/"wylogger/config.yml"}"
  end
end

# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Wylogger < Formula
  desc "A tool for automatically authenticate the network of Wen Yuan Talent Apartment."
  homepage "https://github.com/mafuka/wylogger"
  version "0.1.3"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/mafuka/wylogger/releases/download/0.1.3/wylogger_darwin_amd64.tar.gz"
      sha256 "4923fb97dd2af001d147b16a7c835491086ae8b41e2f5ed20ea7323bc748087b"

      def install
        bin.install "wylogger"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/mafuka/wylogger/releases/download/0.1.3/wylogger_darwin_arm64.tar.gz"
      sha256 "b3e7164b192296d6d5aabadaf610260dfd68fcd11a4b615f8d9b8df7ec07e108"

      def install
        bin.install "wylogger"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel?
      url "https://github.com/mafuka/wylogger/releases/download/0.1.3/wylogger_linux_amd64.tar.gz"
      sha256 "832524e38234f3a9217152382dc98236c398b552dcd1bba2a22b2d4b18a81af0"

      def install
        bin.install "wylogger"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/mafuka/wylogger/releases/download/0.1.3/wylogger_linux_arm64.tar.gz"
      sha256 "6d4efcb33151c2eccc97036a2496f3b8b7ab73e6c47ac3c656eab36f10a6b829"

      def install
        bin.install "wylogger"
      end
    end
  end

  def post_install
    (etc/"wylogger").mkpath
    unless (etc/"wylogger/config.yml").exist?
      cp "pkgshare/config.example.yml", etc/"wylogger/config.yml"
    end
    puts "Please customize your configuration file at #{etc/"wylogger/config.yml"}"
  end
end
